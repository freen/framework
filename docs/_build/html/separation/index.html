


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Separation &mdash; FMF 1.0 documentation</title>
  

  
  

  
  <link rel="stylesheet" href="../_static/sphinx_rtd_theme.css" type="text/css" />
      

      
  
  
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'1.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/sphinx_rtd_theme.js"></script>
    
    

  
    <link rel="top" title="FMF 1.0 documentation" href="../index.html"/>
        <link rel="prev" title="Server Appliance" href="../appliance/index.html"/> 

  
  
    <script type="text/javascript" src="//use.typekit.net/hiw1hhg.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">
    
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html">PHP Federated Micro-Framework</a>
        <form class="wy-form" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html#obtain-run-virtual-server">Obtain &amp; Run Virtual Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html#existing-project-git-pull-the-project-to-the-shared-drive">Existing Project: git pull the Project to the Shared Drive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html#new-project-build-from-scratch">New Project: Build from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html#compose-project-or-download-vendors-folder">Compose Project Or Download Vendors Folder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html#import-project-data">Import Project Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html#verify-in-web-browser">Verify in Web Browser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html#write-code">Write Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../setup/index.html#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/index.html#creating-a-project">Creating A Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/index.html#web-servers">Web Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/index.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#build-and-re-build">Build and Re-Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#auto-generated-routes">Auto-Generated Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#api-centric">API Centric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#service-oriented-architecture">Service Oriented Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#less-logic-templates">Less-Logic Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#pubsub-pattern">PubSub Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#no-sql">No-SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#search">Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html#queues">Queues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../folder/index.html">Folder Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#app">app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#collections">collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#config">config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#filters">filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#forms">forms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#public">public</a></li>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#subscribers">subscribers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../folder/index.html#vendors">vendors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../components/index.html#collection">Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/index.html#form">Form</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/index.html#pubsub">PubSub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/index.html#separation">Separation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../theming/index.html">Theming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../theming/index.html#sample-project">Sample Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theming/index.html#listing-auto-generated-routes">Listing Auto-Generated Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theming/index.html#types-of-pages">Types of Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theming/index.html#working-with-layouts">Working with Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theming/index.html#working-with-partials">Working with Partials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theming/index.html#separation-applications">Separation Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theming/index.html#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bundles/index.html">Bundles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appliance/index.html">Server Appliance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appliance/index.html#installing-virtualbox">Installing VirtualBox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appliance/index.html#obtaining-the-appliance">Obtaining the Appliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appliance/index.html#using-the-appliance">Using the Appliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appliance/index.html#shared-drive">Shared Drive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appliance/index.html#demo-project">Demo Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appliance/index.html#new-project">New Project</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Separation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-sample-configuration-file">A Sample Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#html-layout-template-outer-template">HTML Layout Template (Outer Template)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-binding-json-api-data-and-less-logic-partial-templates">Data Binding, JSON API data and Less-Logic Partial Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#special-types">Special Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips-and-tricks">Tips and Tricks</a></li>
</ul>
</li>
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">FMF 1.0 documentation</a>        
      </nav>
      
      
      <div class="wy-nav-content">
        <div class="rst-content">
          <script type="text/javascript">var switchTo5x=true;</script>
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({publisher: "437da74a-28a4-47ae-84fd-958107b69e59", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>
<ul class="wy-breadcrumbs">
  <li><a href="/">Docs</a> &raquo;</li>
  <li><a href="">Separation</a></li>
  

  	<li class="wy-breadcrumbs-aside"><span class='st_email_large' displayText='Email'></span></li>
	<li class="wy-breadcrumbs-aside"><span class='st_linkedin_large' displayText='LinkedIn'></span></li>
	<li class="wy-breadcrumbs-aside"><span class='st_googleplus_large' displayText='Google +'></span></li>
	<li class="wy-breadcrumbs-aside"><span class='st_twitter_large' displayText='Tweet'></span></li>
	<li class="wy-breadcrumbs-aside" style="margin-left: 20px"><span class='st_facebook_large' displayText='Facebook'></span></li>
<li class="wy-breadcrumbs-aside">
      <a href="https://github.com///edit/separation/index.rst" class="icon icon-github"> Edit on GitHub</a>
    </li>
</ul>
<hr/>
          
  <div class="section" id="separation">
<h1>Separation<a class="headerlink" href="#separation" title="Permalink to this headline">¶</a></h1>
<p>Separation is a software service for binding logic-less templates to JSON data sources.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>These days, more websites are being built without direct database queries, but with RESTful API calls that return JSON data.</p>
<p>Traditionally, the MVC approach to building websites would have Views containing presentation logic.  Many modern applications are getting rid of Views in favor of logic-less templates, or, the slightly more flexible less-logic templates.</p>
<p>The FMF framework relies heavily on the Handlebars engine for rendering HTML and RESTful APIs for all data.  As such, the Separation library allows us to create a configuration file that specified where all the partials in an HTML layout will obtain their data from, and then it processes each partial outputting a fully populated HTML template.</p>
<p>Beyond its core features, Separation has the ability to to interact with a few specialized types of bindings, such as for working with FMF&#8217;s custom data APIs, such as Collection, Document and Form.</p>
</div>
<div class="section" id="a-sample-configuration-file">
<h2>A Sample Configuration File<a class="headerlink" href="#a-sample-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>Configuration file: <strong>project/app/hompeage.yaml</strong></p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">imports</span><span class="p-Indicator">:</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">base.yml</span>

<span class="l-Scalar-Plain">js</span><span class="p-Indicator">:</span>

<span class="l-Scalar-Plain">binding</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">blogs</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&#39;%dataAPI%/json-data/blogs/all/10/0/{&quot;display_date&quot;:-1}&#39;</span>
    <span class="l-Scalar-Plain">args</span><span class="p-Indicator">:</span> <span class="p-Indicator">[]</span>
    <span class="l-Scalar-Plain">partial</span><span class="p-Indicator">:</span> <span class="s">&#39;collections/blogs.hbs&#39;</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="s">&#39;Collection&#39;</span>
    <span class="l-Scalar-Plain">about</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&#39;%dataAPI%/json-data/blurbs/all&#39;</span>
        <span class="l-Scalar-Plain">args</span><span class="p-Indicator">:</span> <span class="p-Indicator">[]</span>
        <span class="l-Scalar-Plain">partial</span><span class="p-Indicator">:</span> <span class="s">&#39;{{{blurbs.about}}}&#39;</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="s">&#39;Collection&#39;</span>
    <span class="l-Scalar-Plain">contactbrief</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&#39;%dataAPI%/json-form/contactbrief&#39;</span>
        <span class="l-Scalar-Plain">args</span><span class="p-Indicator">:</span> <span class="p-Indicator">[]</span>
        <span class="l-Scalar-Plain">partial</span><span class="p-Indicator">:</span> <span class="s">&#39;forms/contactbrief.hbs&#39;</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="s">&quot;Form&quot;</span>
</pre></div>
</div>
<p>In the configuration file above,  is a YAML file that Separation would read to know:</p>
<blockquote>
<div><ul class="simple">
<li>which other Separation files to import (header, footers, etc.)</li>
<li>any JS files it will compile</li>
<li>most importantly, which data to bind</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="html-layout-template-outer-template">
<h2>HTML Layout Template (Outer Template)<a class="headerlink" href="#html-layout-template-outer-template" title="Permalink to this headline">¶</a></h2>
<p>In the yaml file above, there would be a related HTML layout file, like the one below.</p>
<p>The import thing to notice, is that the layout file container Handlebar variables, one for each binding.  So, the &#8220;blogs&#8221; binding in the YAML configuration file, also has a {{{blogs}}} variable in the HTML layout file.</p>
<p>It&#8217;s also important to note, that by default, homepage.yml will be associated to homepage.html.</p>
<p>HTML Layout file: <strong>project/public/layout/homepage.html</strong></p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
        <span class="nt">&lt;body&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;left&quot;</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;blog-posts&quot;</span><span class="nt">&gt;</span>{{{blogs}}}<span class="nt">&lt;/div&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;about-me&quot;</span><span class="nt">&gt;</span>{{{about}}}<span class="nt">&lt;/div&gt;</span>
                                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;contact-form&quot;</span><span class="nt">&gt;</span>{{{contactbrief}}}<span class="nt">&lt;/div&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="data-binding-json-api-data-and-less-logic-partial-templates">
<h2>Data Binding, JSON API data and Less-Logic Partial Templates<a class="headerlink" href="#data-binding-json-api-data-and-less-logic-partial-templates" title="Permalink to this headline">¶</a></h2>
<p>In the example above, there is binding called &#8220;blogs&#8221;, see below:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">blogs</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&#39;%dataAPI%/json-data/blogs/all/10/0/{&quot;display_date&quot;:-1}&#39;</span>
<span class="l-Scalar-Plain">args</span><span class="p-Indicator">:</span> <span class="p-Indicator">[]</span>
<span class="l-Scalar-Plain">partial</span><span class="p-Indicator">:</span> <span class="s">&#39;collections/blogs.hbs&#39;</span>
<span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="s">&#39;Collection&#39;</span>
</pre></div>
</div>
<p>For this binding, Separation will send and HTTP GET request to the url:</p>
<p>%dataAPI%/json-data/blogs/all/10/0/{&#8220;display_date&#8221;:-1}</p>
<p>%dataAPI% is a variable set in the projects database config that usually specified the URL of the project, but could specify an external data-source.  This is helpful for abstracting out the URL so it doesn&#8217;t need to be changed when switching from development to production.  It is the same as:</p>
<p><a class="reference external" href="http://project.localhost/json-data/blogs/all/10/0">http://project.localhost/json-data/blogs/all/10/0</a>/{&#8220;display_date&#8221;:-1}</p>
<p>This URL will return some JSON, that probably looks like:</p>
<div class="highlight-json"><div class="highlight"><pre>
</pre></div>
</div>
<p>Then, Separation will take that data, and render it with the less-logic partials file: <strong>projct/public/collections/blogs.hbs</strong></p>
<div class="highlight-html"><div class="highlight"><pre>
</pre></div>
</div>
</div>
<div class="section" id="special-types">
<h2>Special Types<a class="headerlink" href="#special-types" title="Permalink to this headline">¶</a></h2>
<p>Separation has some special internal logic for dealing with certain data API types, such as Collection, Form and Document API types.  The bottom line, is that these types return JSON data, but sometimes there are some particular ways of calling them.</p>
</div>
<div class="section" id="tips-and-tricks">
<h2>Tips and Tricks<a class="headerlink" href="#tips-and-tricks" title="Permalink to this headline">¶</a></h2>
<p>This section show a few short-cuts and work arounds for using Separation.</p>
<div class="section" id="inline-partials">
<h3>Inline Partials<a class="headerlink" href="#inline-partials" title="Permalink to this headline">¶</a></h3>
<p>It is possible not to specify an partial file, but to put the Handlebar logic directly into the configuration file.  This may sound silly, but if you are just substituting a single value from an data source, it may be more efficient.  For example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">about</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&#39;%dataAPI%/json-data/blurbsReportByTag/all&#39;</span>
    <span class="l-Scalar-Plain">args</span><span class="p-Indicator">:</span> <span class="p-Indicator">[]</span>
    <span class="l-Scalar-Plain">partial</span><span class="p-Indicator">:</span> <span class="s">&#39;{{{blurbs.about}}}&#39;</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="s">&#39;Collection&#39;</span>
</pre></div>
</div>
<p>The above example will pull a list of &#8220;blurbs&#8221; and then the handlebar logic will render the &#8220;about&#8221; key of the blurbs response JSON.</p>
</div>
<div class="section" id="fetching-html">
<h3>Fetching HTML<a class="headerlink" href="#fetching-html" title="Permalink to this headline">¶</a></h3>
<p>In some cases, you don&#8217;t want to use a logicless template, you want to either plug in static HTML from a file, or have a script generate the HTML the old fashioned way.  No proble, refer to the URL of the HTML, and specify the type as &#8220;html&#8221;.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">header</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&#39;%dataAPI%/Manager/header&#39;</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="s">&#39;html&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>


        </div>

        <hr class="docutils" style="margin-top: 60px">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'fmfdoc'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>

      </div>
    </section>

    
  </div>
</body>
</html>